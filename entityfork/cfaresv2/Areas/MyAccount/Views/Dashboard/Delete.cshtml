@using cfacore.shared.modules.helpers
@using cfares.domain._event
@using cfares.entity.dbcontext.res_event
@using cfares.site.modules.Helpers
@using cfares.site.modules.com.application
@using cfares.site.modules.repository.ticket
@model Ticket
@{
    ViewBag.Title = "Dashboard";
    Layout = "../Shared/_Layout.cshtml";
    IResContext context = ReservationConfig.GetContext();
}

<div class="row-fluid">
	<div class="span12">
		<h1>Delete Ticket</h1>
		<p>Are you sure you want to delete this ticket?</p>
	</div>
</div>
<div class="row-fluid">
	<div class="span12">
		
			<ul id="eventsList" class="media-list">
				@{ ResTicketRepository r = new ResTicketRepository(context); }
				@using(Html.BeginForm()){
                var t = Model;
				    <li class="media" id="@("#ticket" + t.TicketId)">
						
				        <a class="pull-left eventThumb" href="javascript:void(0);">
				            @Html.Media(t.Slot.Occurrence.ResEvent.Template.Preview, width: 90)
				        </a>

				        
				        
				        <button type="submit" class="btn-large btn btn-danger pull-right">Delete this reservation</button>
				        
                        <!--<a class="button pull-right btn-large btn btn-primary" href="/Account">Cancel</a>-->

                        
				        
                        
							
						

				        <div class="media-body eventInfo">
				            <h4>@t.Slot.Occurrence.ResEvent.Description</h4>
				            <span class="restaurant">@t.Slot.Occurrence.Store.Name</span>
				            <div>
				                <span>Date: <strong>@t.Slot.Start.ToDateString()</strong></span>
				                <span>Time Slot: <strong>@t.Slot.Start.ToTimeString() - @t.Slot.End.ToTimeString()</strong></span>
				            </div>
				            <div class="clear"></div>
				        </div>

				    </li>
				}
			</ul> 
		
	</div>
</div>